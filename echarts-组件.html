<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Echarts-组件</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@4.7.0/dist/echarts.min.js"></script>
    <style>
      #chart {
        width: 800px;
        height: 400px;
      }
    </style>
    <script>
      (function (root, factory) {
        if (typeof define === "function" && define.amd) {
          // AMD. Register as an anonymous module.
          define(["exports", "echarts"], factory);
        } else if (
          typeof exports === "object" &&
          typeof exports.nodeName !== "string"
        ) {
          // CommonJS
          factory(exports, require("echarts"));
        } else {
          // Browser globals
          factory({}, root.echarts);
        }
      })(this, function (exports, echarts) {
        var log = function (msg) {
          if (typeof console !== "undefined") {
            console && console.error && console.error(msg);
          }
        };
        if (!echarts) {
          log("ECharts is not Loaded");
          return;
        }
        echarts.registerTheme("roma", {
          color: [
            "#e01f54",
            "#001852",
            "#f5e8c8",
            "#b8d2c7",
            "#c6b38e",
            "#a4d8c2",
            "#f3d999",
            "#d3758f",
            "#dcc392",
            "#2e4783",
            "#82b6e9",
            "#ff6347",
            "#a092f1",
            "#0a915d",
            "#eaf889",
            "#6699FF",
            "#ff6666",
            "#3cb371",
            "#d5b158",
            "#38b6b6",
          ],
          backgroundColor: "rgba(0,0,0,0)",
          textStyle: {},
          title: {
            textStyle: {
              color: "#333333",
            },
            subtextStyle: {
              color: "#aaaaaa",
            },
          },
          line: {
            itemStyle: {
              borderWidth: 1,
            },
            lineStyle: {
              width: 2,
            },
            symbolSize: 4,
            symbol: "emptyCircle",
            smooth: false,
          },
          radar: {
            itemStyle: {
              borderWidth: 1,
            },
            lineStyle: {
              width: 2,
            },
            symbolSize: 4,
            symbol: "emptyCircle",
            smooth: false,
          },
          bar: {
            itemStyle: {
              barBorderWidth: 0,
              barBorderColor: "#ccc",
            },
          },
          pie: {
            itemStyle: {
              borderWidth: 0,
              borderColor: "#ccc",
            },
          },
          scatter: {
            itemStyle: {
              borderWidth: 0,
              borderColor: "#ccc",
            },
          },
          boxplot: {
            itemStyle: {
              borderWidth: 0,
              borderColor: "#ccc",
            },
          },
          parallel: {
            itemStyle: {
              borderWidth: 0,
              borderColor: "#ccc",
            },
          },
          sankey: {
            itemStyle: {
              borderWidth: 0,
              borderColor: "#ccc",
            },
          },
          funnel: {
            itemStyle: {
              borderWidth: 0,
              borderColor: "#ccc",
            },
          },
          gauge: {
            itemStyle: {
              borderWidth: 0,
              borderColor: "#ccc",
            },
          },
          candlestick: {
            itemStyle: {
              color: "#e01f54",
              color0: "#001852",
              borderColor: "#f5e8c8",
              borderColor0: "#b8d2c7",
              borderWidth: 1,
            },
          },
          graph: {
            itemStyle: {
              borderWidth: 0,
              borderColor: "#ccc",
            },
            lineStyle: {
              width: 1,
              color: "#aaaaaa",
            },
            symbolSize: 4,
            symbol: "emptyCircle",
            smooth: false,
            color: [
              "#e01f54",
              "#001852",
              "#f5e8c8",
              "#b8d2c7",
              "#c6b38e",
              "#a4d8c2",
              "#f3d999",
              "#d3758f",
              "#dcc392",
              "#2e4783",
              "#82b6e9",
              "#ff6347",
              "#a092f1",
              "#0a915d",
              "#eaf889",
              "#6699FF",
              "#ff6666",
              "#3cb371",
              "#d5b158",
              "#38b6b6",
            ],
            label: {
              color: "#eeeeee",
            },
          },
          map: {
            itemStyle: {
              areaColor: "#eeeeee",
              borderColor: "#444444",
              borderWidth: 0.5,
            },
            label: {
              color: "#000000",
            },
            emphasis: {
              itemStyle: {
                areaColor: "rgba(255,215,0,0.8)",
                borderColor: "#444",
                borderWidth: 1,
              },
              label: {
                color: "rgb(100,0,0)",
              },
            },
          },
          geo: {
            itemStyle: {
              areaColor: "#eeeeee",
              borderColor: "#444444",
              borderWidth: 0.5,
            },
            label: {
              color: "#000000",
            },
            emphasis: {
              itemStyle: {
                areaColor: "rgba(255,215,0,0.8)",
                borderColor: "#444",
                borderWidth: 1,
              },
              label: {
                color: "rgb(100,0,0)",
              },
            },
          },
          categoryAxis: {
            axisLine: {
              show: true,
              lineStyle: {
                color: "#333",
              },
            },
            axisTick: {
              show: true,
              lineStyle: {
                color: "#333",
              },
            },
            axisLabel: {
              show: true,
              color: "#333",
            },
            splitLine: {
              show: false,
              lineStyle: {
                color: ["#ccc"],
              },
            },
            splitArea: {
              show: false,
              areaStyle: {
                color: ["rgba(250,250,250,0.3)", "rgba(200,200,200,0.3)"],
              },
            },
          },
          valueAxis: {
            axisLine: {
              show: true,
              lineStyle: {
                color: "#333",
              },
            },
            axisTick: {
              show: true,
              lineStyle: {
                color: "#333",
              },
            },
            axisLabel: {
              show: true,
              color: "#333",
            },
            splitLine: {
              show: true,
              lineStyle: {
                color: ["#ccc"],
              },
            },
            splitArea: {
              show: false,
              areaStyle: {
                color: ["rgba(250,250,250,0.3)", "rgba(200,200,200,0.3)"],
              },
            },
          },
          logAxis: {
            axisLine: {
              show: true,
              lineStyle: {
                color: "#333",
              },
            },
            axisTick: {
              show: true,
              lineStyle: {
                color: "#333",
              },
            },
            axisLabel: {
              show: true,
              color: "#333",
            },
            splitLine: {
              show: true,
              lineStyle: {
                color: ["#ccc"],
              },
            },
            splitArea: {
              show: false,
              areaStyle: {
                color: ["rgba(250,250,250,0.3)", "rgba(200,200,200,0.3)"],
              },
            },
          },
          timeAxis: {
            axisLine: {
              show: true,
              lineStyle: {
                color: "#333",
              },
            },
            axisTick: {
              show: true,
              lineStyle: {
                color: "#333",
              },
            },
            axisLabel: {
              show: true,
              color: "#333",
            },
            splitLine: {
              show: true,
              lineStyle: {
                color: ["#ccc"],
              },
            },
            splitArea: {
              show: false,
              areaStyle: {
                color: ["rgba(250,250,250,0.3)", "rgba(200,200,200,0.3)"],
              },
            },
          },
          toolbox: {
            iconStyle: {
              borderColor: "#999999",
            },
            emphasis: {
              iconStyle: {
                borderColor: "#666666",
              },
            },
          },
          legend: {
            textStyle: {
              color: "#333333",
            },
          },
          tooltip: {
            axisPointer: {
              lineStyle: {
                color: "#cccccc",
                width: 1,
              },
              crossStyle: {
                color: "#cccccc",
                width: 1,
              },
            },
          },
          timeline: {
            lineStyle: {
              color: "#293c55",
              width: 1,
            },
            itemStyle: {
              color: "#293c55",
              borderWidth: 1,
            },
            controlStyle: {
              color: "#293c55",
              borderColor: "#293c55",
              borderWidth: 0.5,
            },
            checkpointStyle: {
              color: "#e43c59",
              borderColor: "#c23531",
            },
            label: {
              color: "#293c55",
            },
            emphasis: {
              itemStyle: {
                color: "#a9334c",
              },
              controlStyle: {
                color: "#293c55",
                borderColor: "#293c55",
                borderWidth: 0.5,
              },
              label: {
                color: "#293c55",
              },
            },
          },
          visualMap: {
            color: ["#e01f54", "#e7dbc3"],
          },
          dataZoom: {
            backgroundColor: "rgba(47,69,84,0)",
            dataBackgroundColor: "rgba(47,69,84,0.3)",
            fillerColor: "rgba(167,183,204,0.4)",
            handleColor: "#a7b7cc",
            handleSize: "100%",
            textStyle: {
              color: "#333333",
            },
          },
          markPoint: {
            label: {
              color: "#eeeeee",
            },
            emphasis: {
              label: {
                color: "#eeeeee",
              },
            },
          },
        });
      });
    </script>
  </head>
  <body>
    <div id="chart"></div>
  </body>
</html>
<script>
  const chartDom = document.getElementById("chart"); // 获取 DOM 对象
  const chart = echarts.init(chartDom, "roma"); // 初始化 echarts 对象容器
  chart.setOption({
    title: {
      text: "数据可视化",
      subtext: "慕课网数据可视化体系课", // 副标题
    },
    xAxis: {
      type: "category",
    },
    yAxis: {},
    legend: {
      data: ["分类", "折线图", "柱状图"],
      icon: "circle", // 设置图形为圆
      textStyle: {
        color: "red", // 设置文本为红色
      },
      left: 300,
    },
    dataset: {
      source: [
        ["一季度", 79, 100, "分类1", 50],
        ["二季度", 81, 112, "分类2", 60],
        ["三季度", 88, 96, "分类3", 55],
        ["四季度", 72, 123, "分类4", 70],
      ],
    },
    toolbox: {
      feature: {
        // 以下3个属性，按照从上到下，在浏览器依次从左到右
        dataZoom: {
          // 区域缩放与区域还原
          yAxisIndex: false, // 官方提供的缩放坐标轴不存在问题
        },
        restore: {}, // 还原
        saveAsImage: {}, // 保存为图片
      },
    },
    dataZoom: [
      // 自定义区域缩放
      {
        show: true,
        start: 0, // 区域缩放起始
        end: 100, // 区域缩放终止
      },
    ],
    series: [
      {
        name: "分类", // 绑定 legend
        type: "pie",
        center: ["65%", 60],
        radius: 35,
        encode: { itemName: 3, value: 4 }, // encode映射的是 dataset->source  3 是映射 source 中每个数组 index = 3 的值，4 同理
      },
      {
        name: "折线图", // 绑定 legend
        type: "line",
        encode: { x: 0, y: 2 }, // 0 是映射 source 中每个数组 index = 0 的值，2 同理
      },
      {
        name: "柱状图", // 绑定 legend
        type: "bar",
        encode: { x: 0, y: 1 }, // 0 是映射 source 中每个数组 index = 0 的值，1 同理
      },
    ],
  });
</script>
<!-- echarts 绘图流程 -->
<!-- 1.引入 js 库 -->
<!-- 2.编写渲染容器 DOM，添加 width 和 height 样式属性 -->
<!-- 3.获取渲染 DOM 对象 -->
<!-- 4.初始化 ECharts 对象 -->
<!-- 5.编写 option 参数 -->
<!-- 6.调用 setOption 完成渲染 -->
